const wordsSet = [
  ...new Set([
    "Garage",
    "Drive",
    "Water",
    "Carpet",
    "Answer",
    "Temperature",
    "Forecast",
    "Blizzard",
    "Hurricane  ",
    "Thunder",
    "Rainbow",
    "Drought",
    "Flood",
    "Earthquake",
    "Snowflake",
    "Tornado",
    "Circus",
    "Newspaper",
    "Possible  ",
    "Success",
    "Marriage  ",
    "Excellent",
    "Geography",
    "Relationship",
    "Opportunity",
    "Possible",
    "Language",
    "Science",
    "Enough",
    "Measure",
    "Straight",
    "Fireplace",
    "Mirror",
    "living room",
    "dining room  ",
    "Headphones",
    "Charger",
    "Television",
    "Creature",
    "Healthy",
    "Apply",
    "Dangerous",
    "Company",
    "Refrigerator",
    "Tablespoon",
    "Utensils",
    "Beautiful",
    "around",
    "interesting",
    "neighbor",
    "develop",
    "mountain",
    "important",
    "different",
    "leave",
    "between",
    "question",
    "collect",
    "cover",
    "consist",
    "application",
    "travel",
    "selfish",
    "attention",
    "decorate",
    "direction",
    "expensive",
    "honest",
    "ticket",
    "agree",
    "yogurt",
    "compare",
    "information",
    "explore",
    "community",
    "ocean",
    "China",
    "geography",
    "library",
    "rubbish",
    "countryside",
    "superhero",
    "superpower",
    "volunteer",
    "Mountain ",
    "special",
    "activity",
    "question",
    "educational",
    "ancient",
    "scissors",
    "yummy",
    "nature",
    "rubbish bin",
    "crocodile",
    "penguin",
    "Trumpet ",
    "Knife ",
    "cucumber",
    "quickly",
    "guess",
    "beasts",
    "television",
    "gallery",
    "yesterday",
    "humming bird",
    "Wednesday",
    "library",
    "angry",
    "armchair",
    "competition",
    "alphabet",
    "thirsty",
    "brother",
    "awful",
    "terrible",
    "wrong",
    "butterfly",
    "popular",
    "people",
    "happiness",
    "delete",
    "adult",
    "dolphin",
    "jungle",
    "hunter",
    "porridge",
    "season",
    "honest",
    "skin",
    "stomach",
    "strong",
    "opposite",
    "sharpener",
    "lettuce",
    "salad",
    "sweater",
    "trouser",
    "teenager",
    "neck",
    "picture",
    "dishonest",
    "headache",
    "cross",
    "delicious",
    "dinosaur",
    "understand",
    "place",
    "town",
    "capital",
    "Saturday",
    "bookcase",
    "tomorrow",
    "hole",
    "start",
    "Chocolate",
    "experiment",
    "volleyball",
    "sun cream",
    "sandcastle",
    "sweetcorn",
    "kitchen",
    "strawberries",
    "mushrooms",
    "seahorse",
    "cartoon",
    "observe",
    "rhino",
    "lizard",
    "alligator",
    "forest",
    "green peppers",
    "shopping",
    "improve",
    "culture",
    "clean",
    "cage",
    "country",
    "holiday",
    "Germany",
    "result",
    "morning",
    "evening",
    "afternoon",
    "Breakfast",
    "lunch",
    "dinner",
    "supper",
    "snack",
    "purple",
    "keep",
    "barbecue",
    "flowers",
    "riding",
    "cinema",
    "grandparents",
    "spring",
    "autumn",
    "weekend",
    "feed",
    "homework",
    "horns",
    "sense",
    "smell",
    "hear",
    "waiter",
    "dishes",
    "museum",
    "rope",
    "Dessert",
    "hamburgers",
    "chicken",
    "winners",
    "heavy",
    "cruel",
    "sometimes",
    "always",
    "never",
    "insects",
    "explore",
    "peacock",
    "eagle",
    "parrot",
    "clever",
    "strong",
    "waterfall",
    "trip",
    "colorful",
    "dishwasher",
    "tidy",
    "jacket",
    "river",
    "cave",
    "motorbike",
    "police officer",
    "toothache",
    "cough",
    "nervous",
    "garden",
    "factory",
    "supermarket",
    "fire station",
    "University",
    "terrible",
  ]),
].map((s) => s.toLowerCase());

async function getAudioUrl(str) {
  const voice = {
    text: "",
    type: 0,
    ssml: 0,
    isLoginUser: 1,
    country: "English (US)",
    voiceType: "WaveNet",
    languageCode: "en-US",
    voiceName: "en-US-Wavenet-J",
    gender: "MALE",
  };

  voice.text = str;

  const { data } = await fetch("https://freetts.com/api/TTS/SynthesizeText", {
    headers: {
      accept: "application/json, text/plain, */*",
      "accept-language": "ru,en-GB;q=0.9,en-US;q=0.8,en;q=0.7",
      authorization: "Bearer " + localStorage.getItem("token"),
      "content-type": "application/json",
      "sec-ch-ua":
        '"Chromium";v="118", "Google Chrome";v="118", "Not=A?Brand";v="99"',
      "sec-ch-ua-mobile": "?0",
      "sec-ch-ua-platform": '"macOS"',
      "sec-fetch-dest": "empty",
      "sec-fetch-mode": "cors",
      "sec-fetch-site": "same-origin",
    },
    referrer: "https://freetts.com/",
    referrerPolicy: "strict-origin-when-cross-origin",
    body: JSON.stringify(voice),
    method: "POST",
    mode: "cors",
    credentials: "include",
  }).then((res) => res.json());

  return data.audiourl;
}

function download(uri, name) {
  var link = document.createElement("a");
  link.download = name;
  link.href = uri;
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
  delete link;
}

(async () => {
  for (let i = 0; i < wordsSet.length; i++) {
    const audioUrl = await getAudioUrl(wordsSet[i]);
    download(audioUrl, wordsSet[i] + ".mp3");
    if (wordsSet.length === 0) {
      console.log("Все слова озвучены");
    }
  }
})();
